{"author":{"id":"e80c5c10335975bac79f8f531824370d07bff4edb724e375d212a1d323643fc4"},"ops":[{"type":3,"timestamp":1538673855,"nonce":"xEQqi9Sy9EyzGk7FFKfxYUpp2QU=","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQyNzEwMjAxNw==","github-url":"https://github.com/git-bug/git-bug/issues/59#issuecomment-427102017"},"message":"Here’s a series of checks (in JavaScript, from the `supports-color` module) that determine the level of color support. Please @mention me if you have any questions about what it’s doing:\n\n```js\nif (env.COLORTERM === 'truecolor') {\n  return 3;\n}\n\n\nif ('TERM_PROGRAM' in env) {\n  const version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\n  switch (env.TERM_PROGRAM) {\n    case 'iTerm.app':\n      return version \u003e= 3 ? 3 : 2;\n    case 'Apple_Terminal':\n      return 2;\n    // No default\n  }\n}\n\n\nif (/-256(color)?$/i.test(env.TERM)) {\n  return 2;\n}\n\n\nif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n  return 1;\n}\n\n\nif ('COLORTERM' in env) {\n  return 1;\n}\n\n\nif (env.TERM === 'dumb') {\n  return min;\n}\n```\n\u003csup\u003e[source](https://github.com/chalk/supports-color/blob/c94d6c51f60759f72a93d7c73c99e18dae995d73/index.js#L87-L117)\u003c/sup\u003e","files":null}]}