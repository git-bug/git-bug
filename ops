{"author":{"id":"f1dd59ad08715b3389a6e33ce1a851a97ed3dd5c3aa5246ea2632b1cba0c7886"},"ops":[{"type":1,"timestamp":1612270836,"nonce":"+KWbNY6EcJdoGOfYYsE6NJcAESc=","metadata":{"github-id":"MDU6SXNzdWU3OTkyNTk4OTI=","github-url":"https://github.com/git-bug/git-bug/issues/543","origin":"github"},"title":"WebUI - Protection for all write-enabled parts of the UI with IfLoggedIn component","message":"What considerations about permissions should I consider? Who can create or edit a bug?\nI found a component that checks if the user is logged in to decide if comments can be added or not. About what kind of login are We talking about? ðŸ¤”\n\n**MichaelMure commented:**\nAt the moment, anyone can create and edit any bugs (including comments they are not the author of). This should change in the future once the identity system become smarter. For now, maybe it's best to match whatever is possible in git-bug core?\n\nRegarding the authentication, there is three different scenario:\n1. the user might might not have an identity yet (that is, Repository.userIdentity can be nil in GraphQL). In that case we want to have a read-only UI if we don't have a user yet.\n2. in the future, the webUI might be used for a public portal (possibly with external auth like github OAuth where identities would be imported in git-bug at first login). Again, we want a read-only view when we don't have a user logged in yet.\n3. the webUI can be started with --read-only to force a read-only view.\n\nSo in the react code, the write-enabled part of the UI are guarded with the IfLoggedIn component.","files":null}]}