{"author":{"id":"3998add589f6a09cf4bdf0e85e5481d2c48b8a757edd699a79a0c929ab5005db"},"ops":[{"type":5,"timestamp":1534982693,"nonce":"EsaVStTHCySuV5fGv++Y231ckFQ=","metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE4MDM5OTc1MDE="},"added":["Core"],"removed":[]},{"type":3,"timestamp":1536236417,"nonce":"bg3keQHc3AGe2WwA+P1sfIX8G58=","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQxOTA3Mjk2Ng==","github-url":"https://github.com/git-bug/git-bug/issues/5#issuecomment-419072966"},"message":"I wrote some [throwaway code](https://github.com/MichaelMure/git-bug/tree/serialisation-test) to test the resulting blob size for various format. Here is one run:\n\n\u003e Creating repo: /tmp/512275589\n\u003e \n\u003e GOB\n\u003e raw: 5210, git: 2216, ratio: 42.53359%\n\u003e raw: 5536, git: 2320, ratio: 41.907513%\n\u003e raw: 3987, git: 1768, ratio: 44.34412%\n\u003e raw: 4407, git: 1893, ratio: 42.95439%\n\u003e raw: 6368, git: 2593, ratio: 40.71922%\n\u003e raw: 4905, git: 2143, ratio: 43.690113%\n\u003e raw: 6524, git: 2660, ratio: 40.772533%\n\u003e raw: 3315, git: 1549, ratio: 46.726997%\n\u003e raw: 4116, git: 1780, ratio: 43.24587%\n\u003e raw: 3928, git: 1751, ratio: 44.577393%\n\u003e total: 20673\n\u003e \n\u003e JSON\n\u003e raw: 4862, git: 1966, ratio: 40.436035%\n\u003e raw: 5188, git: 2072, ratio: 39.93832%\n\u003e raw: 3633, git: 1528, ratio: 42.058907%\n\u003e raw: 4055, git: 1657, ratio: 40.863132%\n\u003e raw: 6026, git: 2339, ratio: 38.815136%\n\u003e raw: 4555, git: 1903, ratio: 41.778267%\n\u003e raw: 6184, git: 2411, ratio: 38.987713%\n\u003e raw: 2965, git: 1314, ratio: 44.31703%\n\u003e raw: 3764, git: 1551, ratio: 41.20616%\n\u003e raw: 3568, git: 1515, ratio: 42.460762%\n\u003e total: 18256\n\u003e \n\u003e CBOR\n\u003e raw: 4746, git: 1961, ratio: 41.319008%\n\u003e raw: 5071, git: 2065, ratio: 40.72175%\n\u003e raw: 3524, git: 1527, ratio: 43.33144%\n\u003e raw: 3944, git: 1656, ratio: 41.98783%\n\u003e raw: 5902, git: 2337, ratio: 39.59675%\n\u003e raw: 4440, git: 1899, ratio: 42.77027%\n\u003e raw: 6062, git: 2410, ratio: 39.755856%\n\u003e raw: 2852, git: 1308, ratio: 45.862553%\n\u003e raw: 3652, git: 1543, ratio: 42.25082%\n\u003e raw: 3463, git: 1507, ratio: 43.51718%\n\u003e total: 18213\n\u003e \n\u003e MsgPack\n\u003e raw: 4746, git: 1980, ratio: 41.71934%\n\u003e raw: 5072, git: 2087, ratio: 41.147476%\n\u003e raw: 3521, git: 1541, ratio: 43.765976%\n\u003e raw: 3941, git: 1665, ratio: 42.24816%\n\u003e raw: 5902, git: 2357, ratio: 39.935616%\n\u003e raw: 4439, git: 1914, ratio: 43.117817%\n\u003e raw: 6060, git: 2425, ratio: 40.016502%\n\u003e raw: 2853, git: 1323, ratio: 46.372242%\n\u003e raw: 3654, git: 1558, ratio: 42.638203%\n\u003e raw: 3464, git: 1526, ratio: 44.053116%\n\u003e total: 18376\n\nAs expected, there is not that much differences after encoding + compression. CBOR consistently win the size contest though.","files":null},{"type":3,"timestamp":1536236597,"nonce":"LajCNqvjigzEHRCT2hdbOf1Sqs4=","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQxOTA3Mzc0NQ==","github-url":"https://github.com/git-bug/git-bug/issues/5#issuecomment-419073745"},"message":"Note: each serialization format is tested on the same set of randomly generated OperationPack with one `Create` and 4 `AddComment` ops.","files":null}]}