{"author":{"id":"4d85ccdde3ad47c902de21b580354b67ed0cb07caa04e32d04ea93112f7f027e"},"ops":[{"type":3,"timestamp":1747342207,"nonce":"WVunIZqnDQTdcsv+PWlT07M5ry0=","metadata":{"github-id":"IC_kwDOCGKeh86r9fjS","github-url":"https://github.com/git-bug/git-bug/issues/578#issuecomment-2885023954"},"message":"\u003e if there's a repo name that's not the default __default, we display it in the app bar\n\nthe current value of the \"repo name\" will _always_ be `__default`, though, due to the current implementation of the cache.\n\n\u003e in the repo cache, [where we set the name by default][1], we update it to pull a git-bug.repo-name config if it's present, as a way to short-circuit not having a way to name it\n\ni think i'd rather refactor the way we determine the repository name. repositories have a few different names:\n\n- the name of the folder that the git repository lives in on disk\n- the name of the repository as derived from one or more remote URIs\n  - in the simple case, where a user just has a single remote, usually named `origin`, this is likely a better source for deriving the repository name, but it gets tricky when you consider that (1) remote names are arbitrary and (2) you can have any number of remotes in a git repository\n\nso, taking that into consideration, i think defaulting the name of the repository to the basename of the directory the repository lives in makes a lot more sense than `__default`.\n\nthat said, in the current implementation of the multi repo cache, that _could_ result in potential conflicts (e.g. two repositories on disk: `/code/a/foo` and `/code/b/foo`), so this \"name\" (at least internally, as it is represented in the cache) really needs to be a unique identifier. something like the checksum of the full path might work.\n\ni'm undecided on whether or not the repository name should be a user-configurable attribute. i think i'm leaning towards \"no\", especially if we are deriving the name in this manner.\n\n\u003e future ticket can allow rename from within UI, and change the name to a dropdown component if we want to handle multiples\n\ngiven the above, i'm leaning towards disagreeing with sourcing the name of the repo from the git configuration, and thus, renaming isn't a thing that should be supported. maybe \"moving\" it can be, though (which would actually move it on disk)?","files":null},{"type":3,"timestamp":1747342290,"nonce":"tdQIcHANCjR52a3R+jOH7nrh/Jg=","metadata":{"github-id":"IC_kwDOCGKeh86r9gMl","github-url":"https://github.com/git-bug/git-bug/issues/578#issuecomment-2885026597"},"message":"(so, the feature could be implemented today by just showing the value you're getting back from the API, but not rendering anything if the value is `__default`)","files":null},{"type":3,"timestamp":1747342817,"nonce":"vrsKW0vDoV13AEbse0IhNA2ot60=","metadata":{"github-id":"IC_kwDOCGKeh86r9kFZ","github-url":"https://github.com/git-bug/git-bug/issues/578#issuecomment-2885042521"},"message":"okay, after thinking about this for a few more seconds, maybe the name should be independent from the thing that's stored in the cache, e.g. `git-bug.cache-id` and `git-bug.repo-name`","files":null}]}